:root { --primary: #000; --bg: #f5f6f8; --card-bg: #fff; --border: #eee; --accent: #ff4d4d; }
* { box-sizing: border-box; font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif; }
body { background: var(--bg); margin: 0; padding: 20px; display: flex; justify-content: center; }

#app { width: 100%; max-width: 1100px; background: var(--card-bg); border-radius: 20px; padding: 24px; box-shadow: 0 10px 40px rgba(0,0,0,0.05); }

.header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 30px; }
.logo { font-size: 28px; margin-right: 10px; }
h1 { font-size: 20px; margin: 0; letter-spacing: -0.5px; }

/* MODAL & TABS */
.modal { position: fixed; inset: 0; background: rgba(0,0,0,0.6); backdrop-filter: blur(4px); z-index: 9999; display: flex; align-items: center; justify-content: center; padding: 20px; }
.modal-content { background: #fff; width: 100%; max-width: 750px; border-radius: 16px; display: flex; flex-direction: column; max-height: 90vh; animation: slideIn 0.3s ease-out; }
@keyframes slideIn { from { transform: translateY(20px); opacity: 0; } to { transform: translateY(0); opacity: 1; } }

.modal-header, .modal-footer { padding: 16px 24px; border-bottom: 1px solid var(--border); display: flex; justify-content: space-between; align-items: center; }
.modal-footer { border-top: 1px solid var(--border); border-bottom: none; }
.close-btn { background: none; border: none; font-size: 30px; cursor: pointer; color: #999; }

.tabs { display: flex; background: #fafafa; padding: 0 20px; border-bottom: 1px solid var(--border); }
.tab-link { padding: 14px 20px; border: none; background: none; cursor: pointer; border-bottom: 2px solid transparent; font-size: 14px; color: #666; }
.tab-link.active { border-bottom-color: var(--primary); color: var(--primary); font-weight: 600; }

.tab-content { padding: 24px; overflow-y: auto; flex: 1; }
.prompt-segment { margin-bottom: 15px; }
.prompt-segment label { display: block; font-weight: 600; font-size: 13px; margin-bottom: 5px; }

/* WORKSPACE */
.workspace { display: grid; grid-template-columns: 1fr 1fr; gap: 24px; margin-bottom: 40px; }
@media (max-width: 800px) { .workspace { grid-template-columns: 1fr; } }

.card { background: #fafafa; border-radius: 12px; padding: 16px; border: 1px solid var(--border); }
.drop { border: 2px dashed #ccc; border-radius: 12px; min-height: 300px; display: flex; flex-direction: column; align-items: center; justify-content: center; background: #fff; transition: 0.2s; cursor: pointer; }
.drop:hover { border-color: var(--primary); }

.modern-remove-btn { position: absolute; top: 10px; right: 10px; background: #fff; color: var(--accent); border: none; width: 32px; height: 32px; border-radius: 50%; box-shadow: 0 4px 10px rgba(0,0,0,0.1); cursor: pointer; font-size: 20px; display: flex; align-items: center; justify-content: center; }

button { padding: 10px 18px; border-radius: 8px; border: 1px solid #ddd; background: #fff; cursor: pointer; font-weight: 500; transition: 0.2s; }
button:hover { background: #f0f0f0; }
button.primary { background: var(--primary); color: #fff; border: none; }
button.secondary { background: #fff; color: #333; }

textarea, select, input[type="text"] { width: 100%; padding: 10px; border-radius: 8px; border: 1px solid #ddd; margin-top: 5px; }
pre { white-space: pre-wrap; background: #fff; padding: 15px; border-radius: 8px; border: 1px solid var(--border); min-height: 60px; font-size: 14px; line-height: 1.6; }

/* HISTORIQUE */
.history-item { display: flex; gap: 15px; background: #fff; border: 1px solid var(--border); padding: 12px; border-radius: 12px; align-items: center; cursor: pointer; margin-bottom: 10px; }
.history-item.is-current { border: 2px solid var(--primary); }
.history-img { width: 60px; height: 60px; object-fit: cover; border-radius: 8px; }
.delete-hist-btn { color: var(--accent); background: none; border: none; font-size: 18px; }

.hidden { display: none !important; }
