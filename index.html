<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>HR Decom ‚Äî Bijoux Pro</title>
  <link rel="stylesheet" href="app.css"/>
</head>
<body>

<div id="app">
  <header class="header">
    <div class="brand"><div class="logo">‚úß</div><h1>Studio Copywriting</h1></div>
    <button id="settingsBtn" class="icon-btn">‚öôÔ∏è Param√®tres</button>
  </header>

  <div id="settingsModal" class="modal hidden">
    <div class="modal-content">
      <div class="modal-header"><h2>Configuration</h2><button id="closeSettings" class="close-btn">√ó</button></div>
      
      <div class="tabs">
        <button class="tab-link active" data-tab="tab-collections">Collections</button>
        <button class="tab-link" data-tab="tab-prompts">Prompts IA</button>
        <button class="tab-link" data-tab="tab-headlines-config">Headlines</button>
        <button class="tab-link" data-tab="tab-ads-config">Ad Copys</button>
        <button class="tab-link" data-tab="tab-img-styles">Studio Images</button>
        <button class="tab-link" data-tab="tab-translate-config">Traduction</button>
      </div>
      
      <div class="tab-container-scroll">
          <div id="tab-collections" class="tab-content"><div id="collectionsList"></div><button id="addCollection" class="secondary-btn">+ Ajouter collection</button></div>
          
          <div id="tab-prompts" class="tab-content hidden">
            <div class="prompt-segment"><label>1. R√¥le Syst√®me</label><textarea id="promptSystem" rows="4"></textarea></div>
            <div class="prompt-segment"><label>2. R√®gles Titres</label><textarea id="promptTitles" rows="4"></textarea></div>
            <div class="prompt-segment"><label>3. R√®gles Descriptions</label><textarea id="promptDesc" rows="4"></textarea></div>
          </div>
          
          <div id="tab-headlines-config" class="tab-content hidden">
            <label>Prompt Headlines</label><textarea id="promptHeadlines" rows="6"></textarea>
            <label>Boutons Styles</label><div id="styleButtonsEditor"></div><button id="addStyleBtn" class="secondary-btn">+ Ajouter</button>
          </div>
          
          <div id="tab-ads-config" class="tab-content hidden">
            <label>Prompt Ads</label><textarea id="promptAdCopys" rows="6"></textarea>
            <label>Boutons Styles</label><div id="adStyleButtonsEditor"></div><button id="addAdStyleBtn" class="secondary-btn">+ Ajouter</button>
          </div>

          <div id="tab-img-styles" class="tab-content hidden">
             
             <div class="config-row-flex">
                 <div class="config-half">
                    <label class="section-label">1. Cat√©gories (Onglets)</label>
                    <div id="imgCategoriesList" class="tags-container"></div>
                    <div class="mini-form">
                       <input type="text" id="newImgCategoryInput" placeholder="Nouvelle cat√©gorie...">
                       <button id="addImgCategoryBtn" class="secondary-btn small">Ajouter</button>
                    </div>
                 </div>

                 <div class="config-half">
                    <label class="section-label">2. Groupes (Menus D√©roulants)</label>
                    <div id="imgGroupsList" class="tags-container"></div>
                    <div class="mini-form">
                       <input type="text" id="newImgGroupInput" placeholder="Nouveau groupe...">
                       <button id="addImgGroupBtn" class="secondary-btn small">Ajouter</button>
                    </div>
                 </div>
             </div>

             <hr class="separator">

             <div class="config-section">
                <div style="display:flex; justify-content:space-between; align-items:center; margin-bottom:10px;">
                    <label class="section-label" style="margin:0;">3. Organisation (Glisser-D√©poser)</label>
                    <div style="display:flex; gap:10px;">
                         <button id="createNewFolderBtn" class="action-btn">üìÅ Nouveau "Choix Multiple"</button>
                         <button id="createNewStyleBtn" class="action-btn">‚ú® Nouveau Bouton Simple</button>
                    </div>
                </div>
                
                <div class="organizer-container">
                    <div class="org-section-orphans">
                        <div class="org-header-small">Boutons Isol√©s (Sans dossier)</div>
                        <div id="orphansList" class="org-dropzone" data-type="orphan"></div>
                    </div>
                    <div id="organizerFolders" class="org-folders-grid"></div>
                </div>
             </div>

             <div id="itemEditorModal" class="modal hidden" style="z-index: 10005;">
                <div class="modal-content glass-panel" style="max-width: 400px; height: auto; overflow:visible;">
                    <div class="modal-header">
                        <h3 id="editorTitle">√âditer</h3>
                        <button id="closeEditorBtn" class="close-btn">√ó</button>
                    </div>
                    <div style="padding: 20px; display: flex; flex-direction: column; gap: 15px;">
                        
                        <div>
                            <label class="field-label">Nom</label>
                            <input type="text" id="editorName" class="modern-input">
                        </div>

                        <div id="editorPositionFields">
                             <div style="display:grid; grid-template-columns: 1fr 1fr; gap:10px;">
                                 <div>
                                    <label class="field-label">Cat√©gorie</label>
                                    <select id="editorCategory" class="modern-select"></select>
                                 </div>
                                 <div>
                                    <label class="field-label">Groupe</label>
                                    <select id="editorGroup" class="modern-select"></select>
                                 </div>
                             </div>
                             <p style="font-size:10px; color:#888; margin-top:2px;">Astuce: S√©lectionnez "ALL" dans Groupe pour afficher partout.</p>
                        </div>

                        <div id="editorStyleFields" class="hidden">
                             <div>
                                <label class="field-label">Mode</label>
                                <select id="editorMode" class="modern-select">
                                   <option value="auto">‚ö° Auto (Envoi direct)</option>
                                   <option value="manual">üìù Manuel (Ajout texte)</option>
                                </select>
                             </div>
                             <div>
                                <label class="field-label">Image R√©f√©rence</label>
                                <input type="file" id="editorFile" accept="image/*" class="modern-input" style="padding:5px;">
                             </div>
                             <div>
                                <label class="field-label">Prompt</label>
                                <textarea id="editorPrompt" rows="3" class="modern-textarea"></textarea>
                             </div>
                        </div>

                        <div class="modal-actions">
                            <button id="editorDeleteBtn" class="danger-btn">Supprimer</button>
                            <button id="editorSaveBtn" class="primary-btn">Enregistrer</button>
                        </div>
                    </div>
                </div>
             </div>

          </div>

          <div id="tab-translate-config" class="tab-content hidden"><label>Prompt Traduction</label><textarea id="promptTranslate" rows="12"></textarea></div>
      </div>

      <div class="modal-footer"><button id="saveConfig" class="primary-btn">Sauvegarder tout</button></div>
    </div>
  </div>

  <div id="headlinesModal" class="modal hidden">
    <div class="modal-content">
      <div class="modal-header"><h2>Headlines</h2><div class="dropdown"><button id="translateHlMenuBtn" class="secondary-btn">üåç Traduire...</button><div id="hlLangList" class="dropdown-content"></div></div><button id="closeHeadlines" class="close-btn">√ó</button></div>
      <div class="tabs" id="headlinesTabs"><button class="tab-link active" data-tab="tab-gen-headlines">G√©n√©rer</button><button class="tab-link" data-tab="tab-saved-headlines">Enregistr√©es</button></div>
      <div id="headlinesTabContainer" class="tab-container-scroll"><div id="tab-gen-headlines" class="tab-content"><div class="style-selector" id="styleSelectorContainer"></div><div id="headlinesResults" class="headlines-results"></div><div class="headlines-actions-wrapper"><div class="headlines-actions hidden" id="similarActions"><button id="genSimilarBtn" class="secondary-btn">‚ú® G√©n√©rer similaires</button></div><div id="headlinesLocalPagination" class="pagination"></div></div></div><div id="tab-saved-headlines" class="tab-content hidden"><div id="headlinesSavedList" class="headlines-results"></div></div></div>
      <div class="chat-container"><div class="chat-bar"><input type="text" id="headlineStyleInput" placeholder="..."/><button id="sendHeadlineChat">‚Üë</button></div></div>
      <div class="modal-footer"><button id="saveHeadlinesBtn" class="primary-btn">Enregistrer</button></div>
    </div>
  </div>

  <div id="adsModal" class="modal hidden">
    <div class="modal-content">
      <div class="modal-header"><h2>Ads</h2><div class="dropdown"><button id="translateAdMenuBtn" class="secondary-btn">üåç Traduire...</button><div id="adLangList" class="dropdown-content"></div></div><button id="closeAds" class="close-btn">√ó</button></div>
      <div class="tabs" id="adsTabs"><button class="tab-link active" data-tab="tab-gen-ads">G√©n√©rer</button><button class="tab-link" data-tab="tab-saved-ads">Enregistr√©s</button></div>
      <div id="adsTabContainer" class="tab-container-scroll"><div id="tab-gen-ads" class="tab-content"><div class="style-selector" id="adStyleSelectorContainer"></div><div id="adsResults" class="headlines-results"></div><div class="headlines-actions-wrapper"><div class="headlines-actions hidden" id="similarAdsActions"><button id="genSimilarAdsBtn" class="secondary-btn">‚ú® G√©n√©rer similaires</button></div><div id="adsLocalPagination" class="pagination"></div></div></div><div id="tab-saved-ads" class="tab-content hidden"><div id="adsSavedList" class="headlines-results"></div><div id="adsDefaultInfoBlock" class="ads-info-block"></div></div></div>
      <div class="chat-container"><div class="chat-bar"><input type="text" id="adStyleInput" placeholder="..."/><button id="sendAdChat">‚Üë</button></div></div>
      <div class="modal-footer"><button id="saveAdsBtn" class="primary-btn">Enregistrer</button></div>
    </div>
  </div>

  <div id="imgGenModal" class="modal hidden">
    <div class="modal-content studio-layout">
      
      <div class="studio-sidebar">
        <div class="modal-header simple"><h2>Studio Gemini</h2></div>
        <div class="tabs studio-tabs"><button class="tab-link active" data-tab="tab-img-chat">G√©n√©ration</button><button class="tab-link" data-tab="tab-img-saved">Galerie</button></div>

        <div class="studio-controls-scroll">
           <div id="imgGenCategoriesBar" class="studio-categories"></div>
           <div id="imgGenStylesContainer" class="studio-groups-container"></div>
        </div>

        <div class="studio-chat-wrapper">
           <div id="inputImagesPreview" class="input-images-bar hidden"></div>
           <div class="chat-bar studio-chat">
             <button id="addInputImgBtn" class="plus-btn">+</button>
             <input type="text" id="imgGenPrompt" placeholder="D√©crivez l'image..." />
             <button id="sendImgGen" class="magic-btn">‚ú®</button>
           </div>
           <input type="file" id="extraImgInput" accept="image/*" multiple style="display:none;"/>
        </div>
      </div>

      <div class="studio-main">
         <div class="modal-header right-align">
            <div class="settings-inline">
               <select id="imgCount"><option value="1">1</option><option value="2" selected>2</option><option value="3">3</option><option value="4">4</option></select>
               <select id="imgAspectRatio"><option value="1:1">1:1</option><option value="16:9">16:9</option><option value="9:16">9:16</option><option value="4:3">4:3</option></select>
               <select id="imgResolution"><option value="1k">1k</option><option value="2k">2k</option><option value="4k" selected>4k</option></select>
            </div>
            <button id="closeImgGen" class="close-btn">√ó</button>
         </div>

         <div class="tab-container-scroll transparent-bg">
            <div id="tab-img-chat" class="tab-content full-height">
               <div id="imgGenSessionResults" class="image-grid"></div>
            </div>
            <div id="tab-img-saved" class="tab-content full-height hidden">
               <div id="imgGenSavedResults" class="image-grid"></div>
            </div>
         </div>
         
         <div class="studio-footer">
             <button id="saveImgSelectionBtn" class="primary-btn wide">Enregistrer la s√©lection</button>
         </div>
      </div>

    </div>
  </div>

  <div id="loading" class="loading hidden"><div class="spinner-apple"></div><div class="loading-text">Cr√©ation en cours... <span id="timer">00:00</span></div></div>

  <section class="workspace">
    <div class="left">
        <div id="drop" class="drop-zone"><input id="imageInput" type="file" accept="image/*"/><div id="preview" class="preview hidden"><button id="removeImage" class="modern-remove-btn">√ó</button><img id="previewImg"/></div><p id="dropPlaceholder">Glissez votre produit ici</p></div>
        <button id="openImgGenBtn" class="secondary-btn big-btn"><span>üé®</span> Ouvrir Studio</button>
    </div>
    <div class="right">
      <section class="card glass-card">
        <label>Collection</label><select id="collectionSelect" class="modern-select"></select>
        <div class="actions"><button id="generateBtn" class="primary-btn" disabled>G√©n√©rer Tout</button><button id="regenTitleBtn" class="secondary-btn" disabled>Titre</button><button id="regenDescBtn" class="secondary-btn" disabled>Description</button></div>
      </section>
      <section class="card glass-card"><div class="card-head"><h3>Titre</h3><button id="copyTitle" class="icon-btn-text">Copier</button></div><pre id="titleText"></pre></section>
      <section class="card glass-card"><div class="card-head"><h3>Description</h3><button id="copyDesc" class="icon-btn-text">Copier</button></div><pre id="descText"></pre><div class="url-input-group"><input type="text" id="productUrlInput" placeholder="URL Produit..." class="modern-input"/></div><div class="quick-actions"><button id="openHeadlinesBtn" class="secondary-btn">Headlines</button><button id="openAdsBtn" class="secondary-btn">Publicit√©s</button></div></section>
    </div>
  </section>

  <section class="card history-section glass-card">
    <div class="history-header"><h2>Historique</h2><input type="text" id="historySearch" placeholder="Rechercher..." class="search-input"/></div>
    <div id="historyList" class="history-list"></div>
    <div id="pagination" class="pagination"></div>
  </section>
</div>

<script src="app.js"></script>
</body>
</html>
